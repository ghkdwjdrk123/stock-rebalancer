# KIS 증권 API 설정
# 개발 환경 (모의투자)
KIS_APP_KEY_DEV=your_dev_app_key_here
KIS_APP_SECRET_DEV=your_dev_app_secret_here
KIS_ACCOUNT_8_DEV=XXXXXXXX
KIS_ACCOUNT_PD_DEV=XX

# 운영 환경 (실계좌)
KIS_APP_KEY_PROD=your_prod_app_key_here
KIS_APP_SECRET_PROD=your_prod_app_secret_here
KIS_ACCOUNT_8_PROD=XXXXXXXX
KIS_ACCOUNT_PD_PROD=XX

# 기본 설정
DRY_RUN=true
DEFAULT_BAND_PCT=1.0
DEFAULT_ORDER_STYLE=market
MAX_ORDER_VALUE_PER_TICKER=10000000

# API 제한
KIS_GET_RPS=10
KIS_GET_RPM=1000
KIS_POST_RPS=5
KIS_POST_RPM=100

# 캐시 설정
MARKETSTATUS_CACHE_TTL_SEC=60.0

# === API URL 설정 ===
# 일반 위탁계좌 (01) API 경로
KIS_PATH_BALANCE_REGULAR=/uapi/domestic-stock/v1/trading/inquire-balance
KIS_PATH_DAILY_ORDERS_REGULAR=/uapi/domestic-stock/v1/trading/inquire-daily-ccld
KIS_PATH_ORDERABLE_CASH_REGULAR=/uapi/domestic-stock/v1/trading/inquire-psbl-order
KIS_PATH_ORDER_CASH_REGULAR=/uapi/domestic-stock/v1/trading/order-cash
KIS_PATH_CANCEL_ORDER_REGULAR=/uapi/domestic-stock/v1/trading/order-rvsecncl

# 연금계좌 (22)는 일반계좌 API 사용
# KIS_PATH_BALANCE_PENSION=/uapi/domestic-stock/v1/trading/pension/inquire-balance
# KIS_PATH_DAILY_ORDERS_PENSION=/uapi/domestic-stock/v1/trading/pension/inquire-daily-ccld

# 가격 조회 (계좌 유형 무관)
KIS_PATH_PRICE=/uapi/domestic-stock/v1/quotations/inquire-price

# === TR_ID 설정 ===
# 일반 위탁계좌 (01) - 개발환경
KIS_TR_BALANCE_DEV=VTTC8434R
KIS_TR_DAILY_ORDERS_DEV=VTTC8001R
KIS_TR_ORDERABLE_CASH_DEV=VTTC8407R
KIS_TR_ORDER_BUY_DEV=VTTC0802U
KIS_TR_ORDER_SELL_DEV=VTTC0801U
KIS_TR_ORDER_CANCEL_DEV=VTTC0803U
KIS_TR_PRICE_DEV=JTPT1002R

# 일반 위탁계좌 (01) - 운영환경
KIS_TR_BALANCE_PROD=TTTC8434R
KIS_TR_DAILY_ORDERS_PROD=TTTC8001R
KIS_TR_ORDERABLE_CASH_PROD=TTTC8407R
KIS_TR_ORDER_BUY_PROD=TTTC0802U
KIS_TR_ORDER_SELL_PROD=TTTC0801U
KIS_TR_ORDER_CANCEL_PROD=TTTC0803U
KIS_TR_PRICE_PROD=JTPT1002R

# 연금계좌 (22)는 일반계좌 TR_ID 사용
# KIS_TR_PENSION_BALANCE_DEV=VTTC2208R
# KIS_TR_PENSION_DAILY_ORDERS_DEV=VTTC2201R
# KIS_TR_PENSION_BALANCE_PROD=TTTC2208R
# KIS_TR_PENSION_DAILY_ORDERS_PROD=TTTC2201R

# 기본값
DEFAULT_CONFIG_FILE=targets.example.json
DEFAULT_CRON_SCHEDULE=20 15 * * 1-5
DEFAULT_ORDER_DELAY=1.0
DEFAULT_DRY_RUN_PRICE=100000.0
DEFAULT_DRY_RUN_CASH=1000000.0
DEFAULT_DRY_RUN_QTY=1

# 토큰 관리
TOKEN_CACHE_PATH=token/kis.json
TOKEN_REFRESH_LEEWAY_SEC=600

# 로깅
LOG_LEVEL=INFO

# === 거래 안전장치 설정 ===
TRADING_SAFETY_ENABLED=true
TRADING_MAX_RETRY_ATTEMPTS=3
TRADING_RETRY_DELAY=1.0
TRADING_CHECKPOINT_ENABLED=false
TRADING_CONSERVATIVE_MODE=true
TRADING_PARTIAL_EXECUTION_THRESHOLD=0.7

# === 지속적 재시도 설정 ===
PERSISTENT_RETRY_ENABLED=true
RETRY_MAX_ATTEMPTS=5
RETRY_BASE_DELAY=2.0
RETRY_MAX_DELAY=60.0
RETRY_BACKOFF_MULTIPLIER=1.5
RETRY_JITTER_ENABLED=true
RETRY_SUCCESS_THRESHOLD=0.8
RETRY_MAX_DURATION_MINUTES=30
